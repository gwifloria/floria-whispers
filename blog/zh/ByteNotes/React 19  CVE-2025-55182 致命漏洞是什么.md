
> åŸæ–‡ï¼šhttps://react.dev/blog/2025/12/03/critical-security-vulnerability-in-react-server-components

## èƒŒæ™¯

å‰å‡ å¤©æ›´æ–°å‘å¸ƒæ—¶é‡åˆ° build failedï¼Œè¿™ä¸ªæ˜¯æˆ‘åœ¨éƒ¨ç½²æ—¶ç¬¬ä¸€æ¬¡å‘ç°è¿™æ ·çš„é—®é¢˜ã€‚æŸ¥é˜…åå‘ç°æ˜¯ React è¿‘æœŸå‘å¸ƒçš„ RSC è‡´å‘½æ¼æ´ï¼ˆCVE-2025-55182ï¼‰

![[Pasted image 20251210085337.png]]

## æ¼æ´æœ¬è´¨

React Server Componentsï¼ˆRSCï¼‰å…è®¸å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡å™¨ç«¯å‡½æ•°ï¼Œæµç¨‹å¦‚ä¸‹ï¼š

1. å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ â†’ React è½¬æ¢æˆ HTTP è¯·æ±‚
2. æœåŠ¡å™¨æ¥æ”¶ â†’ React **ååºåˆ—åŒ–** payload â†’ æ‰§è¡Œå‡½æ•°
3. è¿”å›æ•°æ®ç»™å®¢æˆ·ç«¯

**é—®é¢˜å‡ºåœ¨ç¬¬2æ­¥ï¼š** React åœ¨ååºåˆ—åŒ–æ—¶æ²¡æœ‰é™åˆ¶åŸå‹é“¾è®¿é—®ï¼Œæ”»å‡»è€…å¯ä»¥æ„é€ æ¶æ„ payloadï¼Œ**æ— éœ€è®¤è¯**å³å¯åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ä»£ç ã€‚

## æŠ€æœ¯ç»†èŠ‚

### æ”»å‡»é“¾

React Flight Protocol åœ¨è§£æ chunk å¼•ç”¨æ—¶ï¼ŒæœªéªŒè¯ key æ˜¯å¦å­˜åœ¨äºå¯¹è±¡æœ¬èº«ï¼Œå¯¼è‡´å¯è®¿é—® `__proto__`ï¼š
```javascript
// æ”»å‡» payload å…³é”®éƒ¨åˆ†
"$1:__proto__:then"           // è®¿é—®åŸå‹é“¾ä¸Šçš„ then
"$1:constructor:constructor"   // æ‹¿åˆ° Function æ„é€ å‡½æ•°

// æœ€ç»ˆå¯æ‰§è¡Œä»»æ„ä»£ç 
Function("process.mainModule.require('child_process').execSync('...')")
```

### ä¸ºä»€ä¹ˆæ²¡ç”¨ Server Functions ä¹Ÿä¼šä¸­æ‹›ï¼Ÿ

æ¼æ´å‘ç”Ÿåœ¨**ååºåˆ—åŒ–é˜¶æ®µ**ï¼Œæ—©äº Server Action ç™½åå•éªŒè¯ï¼š
```
è¯·æ±‚è¿›æ¥ â†’ ååºåˆ—åŒ– payload â†’ ğŸ’¥ RCE å·²è§¦å‘ â†’ ç™½åå•éªŒè¯ï¼ˆå¤ªæ™šäº†ï¼‰
```


### ä¿®å¤æ–¹å¼

åŠ äº† `hasOwnProperty` æ£€æŸ¥ï¼Œé˜»æ­¢åŸå‹é“¾è®¿é—®ï¼š
```javascript
// ä¿®å¤å
if (hasOwnProperty.call(moduleExports, metadata[NAME])) {
    return moduleExports[metadata[NAME]];
}
return undefined;
```


## å‚è€ƒæ¥æº

1. **React å®˜æ–¹ä¿®å¤ Commitï¼š** https://github.com/facebook/react/pull/35277/commits/e2fd5dc6ad973dd3f220056404d0ae0a8707998d
2. **PoC å®Œæ•´åˆ†æï¼ˆMoritz Sanftï¼‰ï¼š** https://github.com/msanft/CVE-2025-55182
3. **React å®˜æ–¹æŠ«éœ²ï¼š** https://react.dev/blog/2025/12/03/critical-security-vulnerability-in-react-server-components
4. **Vercel å®˜æ–¹ï¼š** https://vercel.com/changelog/cve-2025-55182